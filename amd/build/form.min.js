/**
 * load the EnglishCentral player
 *
 * @module      mod_englishcentral/form
 * @category    output
 * @copyright   Gordon Bateson
 * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 * @since       2.9
 */
define("mod_englishcentral/form",["jquery"],(function($){var FORM={init:function(){$("#id_studygoal").prop("type","hidden"),$("#id_studygoal").after('<span id="id_studygoaltext"></span>'),$("#id_watchgoal, #id_learngoal, #id_speakgoal, #id_chatgoal").change((function(){var watch=$("#id_watchgoal").val(),learn=$("#id_learngoal").val(),speak=$("#id_speakgoal").val(),chat=$("#id_chatgoal").val(),mins=(isNaN(watch)?0:6*parseInt(watch))+(isNaN(learn)?0:parseInt(learn))+(isNaN(speak)?0:parseInt(speak))+(isNaN(chat)?0:4*parseInt(chat));$("#id_studygoal").val(mins),$("#id_studygoaltext").text(mins)})),$("#id_watchgoal").trigger("change");for(var lastgoal=null,goaltypes=new Array("watch","learn","speak","chat"),i=0;i<goaltypes.length;i++){var type=goaltypes[i],nextgoal=document.querySelector("#fgroup_id_"+type+"goalgroup");nextgoal&&(lastgoal&&$(lastgoal).after('<div class="mathsymbol"> + </div>'),lastgoal=nextgoal)}lastgoal&&$(lastgoal).after('<div class="mathsymbol"> = </div>');var goals=document.querySelector("#id_goals");if(goals){if(null===goals.querySelector(".form-group")){goals.querySelectorAll("[id^=fgroup_id][id$=group]").forEach((function(fgroup){fgroup.id.indexOf("_error_")>0||(fgroup.classList.add("d-inline-block","rounded","px-2","pb-2","mx-0"),fgroup.querySelectorAll(".mb-3.fitem").forEach((function(fitem){fitem.classList.remove("mb-3"),fitem.classList.add("d-inline-block")})))}))}else goals.querySelectorAll(".form-group").forEach((function(fgroup){fgroup.classList.remove("form-group"),fgroup.classList.add("d-inline-block")})),goals.querySelectorAll(".row").forEach((function(row){row.classList.remove("row"),row.classlist.add("rounded","px-2","mb-2","align-top"),row.style.minHeight="80px"}));["col-md-3","col-md-9","d-flex","align-items-start","align-self-start"].forEach((function(s){goals.querySelectorAll("."+s).forEach((function(elm){elm.classList.remove(s)}))})),goals.querySelectorAll(".col-form-label").forEach((function(elm){for(var i=0;i<elm.children.length;i++){var child=elm.children[i];child.classList.add("d-inline-block"),child.matches("[id^='fgroup_'][id$='_label']")&&child.classList.add("font-weight-bold")}}))}}};return FORM}));

//# sourceMappingURL=form.min.js.map